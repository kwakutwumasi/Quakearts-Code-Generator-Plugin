<?xml version="1.0" encoding="UTF-8"?>
<datasources xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://www.ironjacamar.org/schema/datasources_1_0.xsd">
#if($datasourcetype=="derby")
	<datasource jndi-name="java:/DerbyDS" pool-name="DerbyDS">
		<connection-url>jdbc:derby:$serverName${/}$databaseName;create=true</connection-url>
		<driver-class>org.apache.derby.jdbc.EmbeddedDriver</driver-class>
		<security>
			<user-name>$user</user-name>
			<password>$password</password>
		</security>
	</datasource>
#elseif($datasourcetype=="derby")
	<xa-datasource jndi-name="java:/XADerbyDS" pool-name="XADerbyDS">
		<xa-datasource-property name="DatabaseName">$serverName</xa-datasource-property>
		<xa-datasource-property name="CreateDatabase">create</xa-datasource-property>
		<xa-datasource-class>org.apache.derby.jdbc.EmbeddedXADataSource</xa-datasource-class>
		<xa-pool>
			<is-same-rm-override>false</is-same-rm-override>
			<!-- Uncomment to enable interleaving <interleaving/> -->
		</xa-pool>
		<security>
			<user-name>$user</user-name>
			<password>$password</password>
		</security>
	</xa-datasource>      
#elseif($datasourcetype=="sqlserver")
	<datasource jndi-name="$jndiname" pool-name="$jndiname">
		<connection-url>jdbc:microsoft:sqlserver://$serverName::$serverPort;DatabaseName=$databaseName</connection-url>
		<driver-class>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver-class>
		<security>
			<user-name>$user</user-name>
			<password>$password</password>
		</security>
		<validation>
			<valid-connection-checker
				class-name="org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLValidConnectionChecker"></valid-connection-checker>
		</validation>
	</datasource>
#elseif($datasourcetype=="sqlserverxa")
	<xa-datasource jndi-name="$jndiname" pool-name="$jndiname">
		<xa-datasource-property name="ServerName">$serverName</xa-datasource-property>
		<xa-datasource-property name="DatabaseName">$databaseName</xa-datasource-property>
		<xa-datasource-property name="SelectMethod">cursor</xa-datasource-property>
		<xa-datasource-class>com.microsoft.sqlserver.jdbc.SQLServerXADataSource
		</xa-datasource-class>
		<xa-pool>
			<is-same-rm-override>false</is-same-rm-override>
			<!-- Uncomment to enable interleaving <interleaving/> -->
		</xa-pool>
		<security>
			<user-name>$user</user-name>
			<password>$password</password>
		</security>
		<validation>
			<valid-connection-checker
				class-name="org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLValidConnectionChecker"></valid-connection-checker>
		</validation>
	</xa-datasource>
#elseif($datasourcetype=="mysql")
	<datasource jndi-name="$jndiname" pool-name="$jndiname">
		<connection-url>jdbc:mysql://$serverName:$serverPort/$databaseName</connection-url>
		<driver-class>com.mysql.jdbc.Driver</driver-class>
		<security>
			<user-name>$user</user-name>
			<password>$password</password>
		</security>
		<validation>
			<valid-connection-checker
				class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker"></valid-connection-checker>
			<exception-sorter
				class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter"></exception-sorter>
		</validation>
	</datasource>
#elseif($datasourcetype=="mysqlxa")
	<xa-datasource jndi-name="$jndiname" pool-name="$jndiname">
		<xa-datasource-property name="ServerName">$serverName</xa-datasource-property>
		<xa-datasource-property name="DatabaseName">$databaseName</xa-datasource-property>
		<xa-datasource-class>com.mysql.jdbc.jdbc2.optional.MysqlXADataSource</xa-datasource-class>
		<security>
			<user-name>$user</user-name>
			<password>$password</password>
		</security>
		<validation>
			<valid-connection-checker
				class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker"></valid-connection-checker>
			<exception-sorter
				class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter"></exception-sorter>
		</validation>
	</xa-datasource>
#end
</datasources>
